# ================================================================
# Railway â€” Web service (Django + WhiteNoise + frontend)
# ================================================================
[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile.railway"

[deploy]
startCommand = "/app/scripts/start-web.sh"
healthcheckPath = "/health/"
healthcheckTimeout = 600
numReplicas = 1
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Expose the PORT Railway injects so the service gets a public domain.
# After first deploy: Railway dashboard > service > Settings > Networking
# > Generate Domain (or add a custom domain).
